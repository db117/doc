---
title: java集合,队列
---

## List

### ArrayList

```
public class ArrayList<E> extends AbstractList<E>
        implements List<E>, RandomAccess, Cloneable, java.io.Serializable
```

> `java.util.ArrayList`
>
> 最常用的集合,实现方式为数组
>
> 使用`transient Object[] elementData;`来保存数据,默认大小为10
>
> 每一次扩容为之前的1.5倍`int newCapacity = oldCapacity + (oldCapacity >> 1);`
>
> 标记为java.util.RandomAccess,可进行随机访问

- subList

  > 访问时通过从定向index来实现,添加修改会改变原来的List

> **java.util.Arrays.ArrayList为Arrays的实现,不能add,remove.但是可以get,set**

### LinkedList

```
public class LinkedList<E>
    extends AbstractSequentialList<E>
    implements List<E>, Deque<E>, Cloneable, java.io.Serializable
```

> `java.util.LinkedList`
>
> 相比ArrayList多实现了java.util.Deque接口
>
> 使用双向链表来保存数据

### Vector(线程安全)

```
public class Vector<E>
    extends AbstractList<E>
    implements List<E>, RandomAccess, Cloneable, java.io.Serializable
```

> `java.util.Vector`
>
> 跟java.util.ArrayList类似,不过接口通过synchronized来保证并发安全

```
// 容量满了后,如果设置了capacityIncrement这按照设置的数量进行增加,否则翻倍
int newCapacity = oldCapacity + ((capacityIncrement > 0) ?
                                 capacityIncrement : oldCapacity);
```

### Stack(线程安全)

```
public class Stack<E> extends Vector<E> 
```

> `java.util.Stack`
>
> 直接继承自`java.util.Vector`
>
> 实现stack数据结构

### CopyOnWriteArrayList(线程安全)

```
public class CopyOnWriteArrayList<E>
    implements List<E>, RandomAccess, Cloneable, java.io.Serializable 
```

> `java.util.concurrent.CopyOnWriteArrayList`

- 和ArrayList一样，其底层数据结构也是数组，加上transient不让其被序列化，加上volatile修饰来保证多线程下的其可见性和有序性

- CopyOnWriteArrayList适合于多线程场景下使用，其采用读写分离的思想，读操作不上锁，写操作上锁，且写操作效率较低
- CopyOnWriteArrayList基于fail-safe机制，每次修改都会在原先基础上复制一份，修改完毕后在进行替换
- CopyOnWriteArrayList在1.8中采用的是ReentrantLock进行上锁。jdk11中采用的是synchronized进行加锁



## map

### HashMap

```
public class HashMap<K,V> extends AbstractMap<K,V>
    implements Map<K,V>, Cloneable, Serializable 
```

### TreeMap

```
public class TreeMap<K,V>
    extends AbstractMap<K,V>
    implements NavigableMap<K,V>, Cloneable, java.io.Serializable
```

### Hashtable

```
public class Hashtable<K,V>
    extends Dictionary<K,V>
    implements Map<K,V>, Cloneable, java.io.Serializable
```

### IdentityHashMap

```
public class IdentityHashMap<K,V>
    extends AbstractMap<K,V>
    implements Map<K,V>, java.io.Serializable, Cloneable
```

### LinkedHashMap

```
public class LinkedHashMap<K,V>
    extends HashMap<K,V>
    implements Map<K,V>
```

### WeakHashMap

```
public class WeakHashMap<K,V>
    extends AbstractMap<K,V>
    implements Map<K,V> 
```

### EnumMap

```
public class EnumMap<K extends Enum<K>, V> extends AbstractMap<K, V>
    implements java.io.Serializable, Cloneable
```

### ConcurrentHashMap

```
public class ConcurrentHashMap<K,V> extends AbstractMap<K,V>
    implements ConcurrentMap<K,V>, Serializable 
```

### ConcurrentSkipListMap

```
public class ConcurrentSkipListMap<K,V> extends AbstractMap<K,V>
    implements ConcurrentNavigableMap<K,V>, Cloneable, Serializable
```

## set

### HashSet

```
public class HashSet<E>
    extends AbstractSet<E>
    implements Set<E>, Cloneable, java.io.Serializable
```



### TreeSet

```
public class TreeSet<E> extends AbstractSet<E>
    implements NavigableSet<E>, Cloneable, java.io.Serializable
```


### LinkedHashSet

```
public class LinkedHashSet<E>
    extends HashSet<E>
    implements Set<E>, Cloneable, java.io.Serializable 
```



### ConcurrentSkipListSet

```
public class ConcurrentSkipListSet<E>
    extends AbstractSet<E>
    implements NavigableSet<E>, Cloneable, java.io.Serializable
```



### CopyOnWriteArraySet

```
public class CopyOnWriteArraySet<E> extends AbstractSet<E>
        implements java.io.Serializable
```